{% extends 'base.html' %}

{% load burst_tags %}

{% block content %}

  <h5>Block #{{ the_block.height }}</h5>

  <table class="table table-bordered">
    <tbody>
    <tr>
      <th>Height</th>
      <td>
        <nav aria-label="Page navigation">
          <ul class="pagination">
              <li class="page-item" style="padding:0.5rem 0.75rem">{{ the_block.height }}</li>
            {% if the_block.previous_block %}
              <li class="page-item"><a class="page-link" href="{% url 'block-detail' the_block.previous_block.height %}">Previous</a></li>
            {% else %}
              <li class="page-item disabled"><a class="page-link" href="#">Previous</a></li>
            {% endif %}
            {% if the_block.next_block %}
              <li class="page-item"><a class="page-link" href="{% url 'block-detail' the_block.next_block.height %}">Next</a></li>
            {% else %}
              <li class="page-item disabled"><a class="page-link" href="#">Next</a></li>
            {% endif %}
          </ul>
        </nav>
      </td>
    </tr>
    <tr>
      <th>Number Of Transactions</th>
      <td><a href="{% url 'txs' %}?block={{ the_block.height }}">{{ txs_cnt }} transaction</a></td>
    </tr>
    <tr>
      <th>Total Amount</th>
      <td>{{ the_block.total_amount|burst_amount|floatformat:2 }} Burst</td>
    </tr>
    <tr>
      <th>Transaction Fees</th>
      <td>{{ the_block.total_fee|burst_amount|floatformat:2 }} Burst</td>
    </tr>
    <tr>
      <th>Timestamp</th>
      <td>{{ the_block.timestamp|date:'Y-m-d H:i:s' }}</td>
    </tr>
    <tr>
      <th>Generator</th>
      <td><a href="{% url 'address-detail' the_block.generator_id %}">{{ the_block.generator_id }}</a></td>
    </tr>
    <tr>
      <th>Generator RS</th>
      <td><a href="{% url 'address-detail' the_block.generator_id %}">{{ the_block.generator_id|num2rs }}</a></td>
    </tr>
    <tr>
      <th>Generator Public Key</th>
      <td>{{ the_block.generator_public_key|bin2hex }}</td>
    </tr>
    <tr>
      <th>Pool</th>
      <td></td>
    </tr>
    <tr>
      <th>Block Generation Time</th>
      <td>{% block_generation_time the_block %}</td>
    </tr>
    <tr>
      <th>Base Target</th>
      <td>{{ the_block.base_target }}</td>
    </tr>
    <tr>
      <th>Size</th>
      <td>{{ the_block.payload_length|filesizeformat }}</td>
    </tr>
    <tr>
      <th>Version</th>
      <td>{{ the_block.version }}</td>
    </tr>
    <tr>
      <th>Nonce</th>
      <td>{{ the_block.nonce }}</td>
    </tr>
    <tr>
      <th>Block Reward</th>
      <td>{% block_reward the_block %} Burst</td>
    </tr>
    <tr>
      <th>Block Signature</th>
      <td>{{ the_block.block_signature|bin2hex }}</td>
    </tr>
    </tbody>
  </table>

{% endblock %}
